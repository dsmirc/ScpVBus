#pragma once

#define FILE_DEVICE_BUSENUM             FILE_DEVICE_BUS_EXTENDER
#define BUSENUM_IOCTL(_index_)          CTL_CODE(FILE_DEVICE_BUSENUM, _index_, METHOD_BUFFERED, FILE_READ_DATA)
#define BUSENUM_W_IOCTL(_index_)        CTL_CODE(FILE_DEVICE_BUSENUM, _index_, METHOD_BUFFERED, FILE_WRITE_DATA)
#define BUSENUM_R_IOCTL(_index_)        CTL_CODE(FILE_DEVICE_BUSENUM, _index_, METHOD_BUFFERED, FILE_READ_DATA)
#define BUSENUM_RW_IOCTL(_index_)       CTL_CODE(FILE_DEVICE_BUSENUM, _index_, METHOD_BUFFERED, FILE_WRITE_DATA | FILE_READ_DATA)

#define IOCTL_BUSENUM_BASE 0x801

#define IOCTL_BUSENUM_PLUGIN_HARDWARE   BUSENUM_W_IOCTL (IOCTL_BUSENUM_BASE + 0x0)
#define IOCTL_BUSENUM_UNPLUG_HARDWARE   BUSENUM_W_IOCTL (IOCTL_BUSENUM_BASE + 0x1)
#define IOCTL_BUSENUM_EJECT_HARDWARE    BUSENUM_W_IOCTL (IOCTL_BUSENUM_BASE + 0x2)
#define IOCTL_BUSENUM_REPORT_HARDWARE   BUSENUM_RW_IOCTL(IOCTL_BUSENUM_BASE + 0x3)

#define IOCTL_BUSENUM_ISDEVPLUGGED      BUSENUM_RW_IOCTL(IOCTL_BUSENUM_BASE + 0x100)
#define IOCTL_BUSENUM_EMPTY_SLOTS       BUSENUM_RW_IOCTL(IOCTL_BUSENUM_BASE + 0x101)
#define IOCTL_BUSENUM_PROC_ID           BUSENUM_RW_IOCTL(IOCTL_BUSENUM_BASE + 0x102)
#define IOCTL_BUSENUM_VERSION           BUSENUM_RW_IOCTL(IOCTL_BUSENUM_BASE + 0x103)
